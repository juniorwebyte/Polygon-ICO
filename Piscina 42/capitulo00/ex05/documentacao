ExercÃ­cio 05 â€” git_commit.sh
ğŸ¯ Objetivo

Criar um script chamado:

git_commit.sh


Que imprima:

Os hashes (IDs) dos Ãºltimos 5 commits

Um por linha

Apenas o hash

Nada alÃ©m disso

Exemplo esperado:

baa23b54f0adb7bf42623d6d0a6ed4587e11412a
2f52d74b1387fa80eea844969e8dc5483b531ac1
...

ğŸ§  Conceitos envolvidos
1ï¸âƒ£ O que Ã© um commit ID?

Ã‰ o hash SHA-1 (40 caracteres hexadecimais):

e94d0b448c03ec633f16d84d63beaef9ae7e7be8

2ï¸âƒ£ Como extrair apenas os hashes?

Manual do git (man git log):

OpÃ§Ã£o importante:

--pretty=format:


Para mostrar apenas o hash completo:

%H

3ï¸âƒ£ Limitar quantidade de commits

OpÃ§Ã£o:

-n 5


ou

-5

âœ… Comando correto

O comando ideal Ã©:

git log -5 --pretty=format:%H


Isso produz exatamente:

5 commits

Apenas hash completo

Um por linha

Sem texto adicional

ğŸ“‚ Criando o script corretamente
1ï¸âƒ£ Criar pasta
mkdir ex05
cd ex05

2ï¸âƒ£ Criar o arquivo
nano git_commit.sh


ConteÃºdo do arquivo:

#!/bin/sh
git log -5 --pretty=format:%H


Salve e saia.

3ï¸âƒ£ Tornar executÃ¡vel
chmod +x git_commit.sh

ğŸ” Teste correto

Dentro de um repositÃ³rio git com commits:

bash git_commit.sh


Ou:

./git_commit.sh


Teste igual ao enunciado:

bash git_commit.sh | cat -e


VocÃª verÃ¡:

hash1$
hash2$
hash3$
hash4$
hash5$

âš ï¸ Erros que reprovam

âŒ Usar git log | head -5 (mostra texto extra)
âŒ Usar %h (hash curto)
âŒ NÃ£o colocar shebang (#!/bin/sh)
âŒ Esquecer permissÃ£o de execuÃ§Ã£o
âŒ Colocar texto extra no script

ğŸ“¦ Estrutura final
ex05/
â””â”€â”€ git_commit.sh

ğŸ“ O que vocÃª aprendeu

Como usar git log

Como formatar saÃ­da do Git

O que Ã© %H

Como criar um script shell bÃ¡sico

Shebang e permissÃµes executÃ¡veis

ğŸ§  Mentalidade 42

Quando pedem:

Seu script serÃ¡ testado em nosso ambiente

Significa:

Ele serÃ¡ executado dentro de um repositÃ³rio git

Seu script precisa funcionar sem argumentos

NÃ£o pode depender do seu ambiente pessoal

O que significa esse erro
fatal: your current branch 'master' does not have any commits yet


TraduÃ§Ã£o tÃ©cnica:

ğŸ‘‰ VocÃª estÃ¡ dentro de um repositÃ³rio Git
ğŸ‘‰ Mas ainda nÃ£o existe nenhum commit

Logo:

git log


nÃ£o tem o que mostrar.

Seu script estÃ¡ funcionando corretamente.

ğŸ§  Como o Git funciona nesse ponto

Um repositÃ³rio recÃ©m-criado com:

git init


Cria:

DiretÃ³rio .git

Branch master (ou main)

Nenhum commit ainda

O primeiro commit cria o primeiro snapshot.

âœ… Como resolver

VocÃª precisa criar commits para testar.

Execute:

echo "teste" > arquivo.txt
git add arquivo.txt
git commit -m "primeiro commit"


Se o Git reclamar de identidade:

git config --global user.name "Seu Nome"
git config --global user.email "seu@email.com"


Depois tente novamente.

ğŸ” Criar mais commits para testar os 5
echo "2" >> arquivo.txt
git commit -am "segundo commit"

echo "3" >> arquivo.txt
git commit -am "terceiro commit"

echo "4" >> arquivo.txt
git commit -am "quarto commit"

echo "5" >> arquivo.txt
git commit -am "quinto commit"


Agora execute:

bash git_commit.sh


VocÃª verÃ¡ 5 hashes.

ğŸ” Entendimento importante

O script:

git log -5 --pretty=format:%H


Funciona apenas se:

VocÃª estÃ¡ dentro de um repositÃ³rio git

Existem commits

A branch atual tem histÃ³rico

ğŸ“Œ VerificaÃ§Ã£o rÃ¡pida

Para saber se vocÃª estÃ¡ dentro de um repo:

git status


Se aparecer:

fatal: not a git repository


VocÃª nÃ£o estÃ¡ dentro de um repo.

ğŸ“ O que vocÃª aprendeu

O que Ã© um repositÃ³rio vazio

Que git log depende de commits

Que erro do Git nÃ£o significa erro no script

Como criar commits de teste