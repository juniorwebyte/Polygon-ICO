ExercÃ­cio 06 â€” git_ignore.sh
ğŸ¯ Objetivo

Criar um script:

git_ignore.sh


Que liste:

Todos os arquivos existentes que estÃ£o sendo ignorados pelo Git

Importante:

Apenas arquivos que existem fisicamente

Que estejam sendo ignorados por .gitignore

Um por linha

Nada extra

ğŸ§  Entendendo o problema corretamente

Arquivos ignorados sÃ£o:

Arquivos que existem

Mas o Git nÃ£o rastreia

Porque estÃ£o listados no .gitignore

Exemplo:

Se .gitignore contÃ©m:

*.o
.DS_Store


E esses arquivos existem â†’ devem aparecer.

âŒ O que NÃƒO usar

NÃ£o use:

git status


Porque a saÃ­da Ã© textual e instÃ¡vel.

NÃ£o use parsing com grep ou awk.

O enunciado diz:

RTFM

EntÃ£o precisamos usar o comando correto do Git.

âœ… Comando correto (plumbing command)

O comando ideal Ã©:

git ls-files --others -i --exclude-standard

ğŸ” Explicando cada parte
git ls-files

Lista arquivos conhecidos pelo Git.

--others

Mostra arquivos que NÃƒO estÃ£o sendo rastreados.

-i

Mostra apenas arquivos ignorados.

--exclude-standard

Considera:

.gitignore

.git/info/exclude

configuraÃ§Ãµes globais

âœ… Resultado final esperado

Ele listarÃ¡:

.DS_Store
mywork.c~


Um por linha.

ğŸ“‚ Criando o script corretamente
1ï¸âƒ£ Criar pasta
mkdir ex06
cd ex06

2ï¸âƒ£ Criar o script
nano git_ignore.sh


ConteÃºdo:

#!/bin/sh
git ls-files --others -i --exclude-standard


Salve.

3ï¸âƒ£ Tornar executÃ¡vel
chmod +x git_ignore.sh

ğŸ” Teste

Dentro de um repositÃ³rio que tenha .gitignore configurado:

bash git_ignore.sh | cat -e


SaÃ­da exemplo:

.DS_Store$
mywork.c~$

âš ï¸ Erros que reprovam

âŒ Usar git status | grep
âŒ NÃ£o usar --exclude-standard
âŒ Listar arquivos que nÃ£o existem
âŒ Colocar texto extra
âŒ Esquecer o shebang

ğŸ“ O que vocÃª aprendeu

DiferenÃ§a entre comandos porcelain e plumbing

Como Git identifica arquivos ignorados

Uso correto de flags combinadas

Leitura estratÃ©gica do manual

ğŸ§  NÃ­vel Piscina

Se vocÃª resolveu esse sem procurar a resposta, vocÃª estÃ¡ comeÃ§ando a pensar como a 42 espera.

Se a saÃ­da estÃ¡ vazia, existem apenas trÃªs possibilidades reais:

ğŸ¯ 1ï¸âƒ£ NÃ£o existem arquivos ignorados

O comando:

git ls-files --others -i --exclude-standard


SÃ³ lista arquivos que:

Existem fisicamente

EstÃ£o sendo ignorados por .gitignore

NÃ£o estÃ£o sendo rastreados

Se nÃ£o houver nenhum â†’ saÃ­da vazia Ã© comportamento correto.

âœ… Teste prÃ¡tico

Dentro do seu repositÃ³rio, faÃ§a:

touch teste.tmp
echo "*.tmp" > .gitignore


Agora execute:

bash git_ignore.sh


Agora deve aparecer:

teste.tmp


Se aparecer â†’ seu script estÃ¡ correto.

ğŸ¯ 2ï¸âƒ£ VocÃª nÃ£o estÃ¡ dentro de um repositÃ³rio Git

Teste:

git status


Se aparecer:

fatal: not a git repository


EntÃ£o o script nÃ£o tem como funcionar.

Entre em um repo ou faÃ§a:

git init

ğŸ¯ 3ï¸âƒ£ O arquivo jÃ¡ estÃ¡ sendo rastreado

Se vocÃª criou um arquivo antes de colocar no .gitignore, ele jÃ¡ pode estar no index.

Teste:

git ls-files


Se o arquivo aparecer ali, ele nÃ£o Ã© considerado ignorado.

Para corrigir:

git rm --cached nome_do_arquivo

ğŸ” DiagnÃ³stico rÃ¡pido

Execute agora:

git ls-files --others --exclude-standard


Se listar arquivos â†’ eles nÃ£o estÃ£o sendo ignorados.

Depois:

git check-ignore *


Isso mostra quais estÃ£o sendo ignorados.

ğŸ“Œ ConclusÃ£o importante

Se a saÃ­da estÃ¡ vazia, isso normalmente significa:

NÃ£o hÃ¡ arquivos ignorados existentes no repositÃ³rio.

E isso estÃ¡ correto.

ğŸ§  Como a 42 testa isso

Eles testam seu script dentro de um ambiente onde:

JÃ¡ existem arquivos ignorados

JÃ¡ existe .gitignore

Seu script sÃ³ precisa rodar corretamente

Eles nÃ£o testam no seu ambiente vazio.

Se quiser, me mostre o resultado de:

git status
cat .gitignore
ls -a


Que eu te digo exatamente o que estÃ¡ acontecendo.