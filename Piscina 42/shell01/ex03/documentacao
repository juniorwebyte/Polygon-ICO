Criar um script:

ex03/count_files.sh

Que:

Conte arquivos regulares

Conte diretÃ³rios

No diretÃ³rio atual e subdiretÃ³rios

Inclua "." (diretÃ³rio inicial)

Mostre apenas o nÃºmero total

ğŸ§  EstratÃ©gia correta

O comando ideal aqui Ã© find.

Se executarmos:

find .

Ele lista:

.

todos os diretÃ³rios

todos os arquivos

Exatamente o que precisamos contar.

ğŸ§  Por que isso funciona?

Por padrÃ£o, find . lista:

DiretÃ³rios

Arquivos regulares

Links

etc.

Mas o exercÃ­cio pede:

arquivos regulares e diretÃ³rios

EntÃ£o precisamos filtrar apenas:

-type f

-type d

ğŸ›  ConstruÃ§Ã£o passo a passo
1ï¸âƒ£ Selecionar arquivos e diretÃ³rios
find . \( -type f -o -type d \)

ExplicaÃ§Ã£o:

-type f â†’ arquivos

-type d â†’ diretÃ³rios

-o â†’ OR

\( \) â†’ agrupamento obrigatÃ³rio

2ï¸âƒ£ Contar linhas

Cada resultado Ã© uma linha.

EntÃ£o usamos:

| wc -l
âœ… Linha final correta

Coloque no count_files.sh:

find . \( -type f -o -type d \) | wc -l
ğŸ“‚ Passo a passo completo
1ï¸âƒ£ Criar pasta
mkdir -p ex03
cd ex03
2ï¸âƒ£ Criar arquivo
touch count_files.sh
3ï¸âƒ£ Editar
nano count_files.sh

Coloque:

find . \( -type f -o -type d \) | wc -l

Salvar.

4ï¸âƒ£ PermissÃ£o
chmod +x count_files.sh
ğŸ§ª Teste

Crie estrutura de teste:

mkdir pasta
touch file1
touch file2
touch pasta/file3

Agora execute:

./count_files.sh | cat -e

SaÃ­da exemplo:

5$

Por quÃª 5?

.

./pasta

file1

file2

pasta/file3

Total = 5

âš ï¸ Erros comuns na 42

âŒ Usar apenas find . | wc -l (conta links e outros tipos)
âŒ NÃ£o incluir diretÃ³rios
âŒ Esquecer os parÃªnteses escapados
âŒ Usar dois comandos separados

ğŸ§  O que vocÃª aprendeu

Uso lÃ³gico com find

Filtro por tipo

Agrupamento com \( \)

Contagem com wc -l

Por que pode dar 7?

Porque o find conta:

.

./ex03

./count_files.sh

outros arquivos que vocÃª criou

diretÃ³rios escondidos (como .git)

subdiretÃ³rios

arquivos dentro deles

Se vocÃª estiver dentro de um projeto Git, por exemplo, ele vai contar:

./.git
./.git/config
./.git/objects
...

E isso aumenta bastante o nÃºmero.

ğŸ¯ Teste controlado (para ter certeza)

Crie uma pasta limpa:

mkdir teste
cd teste

Agora crie exatamente isso:

mkdir pasta
touch file1
touch file2
touch pasta/file3

Execute:

find . \( -type f -o -type d \) | wc -l

Agora deve dar:

5

Porque temos:

.

./pasta

./file1

./file2

./pasta/file3

âš ï¸ ConclusÃ£o importante

Se deu 7 no seu diretÃ³rio atual:

âœ”ï¸ Seu comando estÃ¡ correto
âœ”ï¸ Existem 7 arquivos/diretÃ³rios reais ali
âŒ NÃ£o Ã© erro do script

ğŸ§  Dica de avaliador da 42

O exercÃ­cio nÃ£o exige nÃºmero especÃ­fico.
Ele exige que a contagem esteja correta para o conteÃºdo existente.

Se o nÃºmero bate com o que find lista, estÃ¡ certo.

Se vocÃª quer ver 42$ aparecendo

EntÃ£o vocÃª precisa ter exatamente 42 entradas (arquivos + diretÃ³rios, incluindo ".") no diretÃ³rio onde estÃ¡ executando.

ğŸ§ª Como gerar exatamente 42 para teste

Entre em uma pasta vazia:

mkdir teste42
cd teste42

Agora crie 41 arquivos:

for i in $(seq 1 39); do touch file$i; done

Agora conte:

find . \( -type f -o -type d \) | wc -l

Vai retornar:

42

Por quÃª?

41 arquivos

1 diretÃ³rio .
= 42

ğŸ“Œ Importante (mentalidade 42)

Se vocÃª modificar o script para sempre imprimir:

echo 42

Ele serÃ¡ considerado errado na correÃ§Ã£o.

Porque o avaliador muda o conteÃºdo do diretÃ³rio.

âœ… O que a 42 quer testar aqui

Uso correto do find

Uso correto de operadores lÃ³gicos

Entendimento de contagem

NÃ£o hardcode

ğŸ”¥ ConclusÃ£o

Para sair 42$, vocÃª precisa ter 42 entradas reais.
O script deve continuar sendo:

find . \( -type f -o -type d \) | wc -l